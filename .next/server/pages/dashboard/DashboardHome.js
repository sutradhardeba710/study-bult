"use strict";(()=>{var e={};e.id=892,e.ids=[892,660],e.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},7503:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>y,default:()=>h,getServerSideProps:()=>x,getStaticPaths:()=>g,getStaticProps:()=>m,reportWebVitals:()=>b,routeModule:()=>P,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>w,unstable_getStaticProps:()=>f});var s=r(7093),o=r(5244),d=r(1323),l=r(1682),i=r.n(l),c=r(8141),n=r.n(c),p=r(8669),u=e([p]);p=(u.then?(await u)():u)[0];let h=(0,d.l)(p,"default"),m=(0,d.l)(p,"getStaticProps"),g=(0,d.l)(p,"getStaticPaths"),x=(0,d.l)(p,"getServerSideProps"),y=(0,d.l)(p,"config"),b=(0,d.l)(p,"reportWebVitals"),f=(0,d.l)(p,"unstable_getStaticProps"),w=(0,d.l)(p,"unstable_getStaticPaths"),j=(0,d.l)(p,"unstable_getStaticParams"),v=(0,d.l)(p,"unstable_getServerProps"),N=(0,d.l)(p,"unstable_getServerSideProps"),P=new s.PagesRouteModule({definition:{kind:o.x.PAGES,page:"/dashboard/DashboardHome",pathname:"/dashboard/DashboardHome",bundlePath:"",filename:""},components:{App:n(),Document:i()},userland:p});a()}catch(e){a(e)}})},3592:(e,t,r)=>{r.d(t,{Z:()=>p});var a=r(6689);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),d=e=>{let t=o(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),i=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:d,iconNode:n,...p},u)=>(0,a.createElement)("svg",{ref:u,...c,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:l("lucide",o),...!d&&!i(p)&&{"aria-hidden":"true"},...p},[...n.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(d)?d:[d]])),p=(e,t)=>{let r=(0,a.forwardRef)(({className:r,...o},i)=>(0,a.createElement)(n,{ref:i,iconNode:t,className:l(`lucide-${s(d(e))}`,`lucide-${e}`,r),...o}));return r.displayName=d(e),r}},3795:(e,t,r)=>{r.d(t,{Z:()=>a});let a=(0,r(3592).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},3917:(e,t,r)=>{r.d(t,{Z:()=>a});let a=(0,r(3592).Z)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},3604:(e,t,r)=>{r.d(t,{Z:()=>a});let a=(0,r(3592).Z)("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},9726:(e,t,r)=>{r.d(t,{Z:()=>a});let a=(0,r(3592).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},6391:(e,t,r)=>{r.d(t,{Z:()=>a});let a=(0,r(3592).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},8141:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let a=r(5577),s=r(997),o=a._(r(6689)),d=r(5782);async function l(e){let{Component:t,ctx:r}=e;return{pageProps:await (0,d.loadGetInitialProps)(t,r)}}class i extends o.default.Component{render(){let{Component:e,pageProps:t}=this.props;return(0,s.jsx)(e,{...t})}}i.origGetInitialProps=l,i.getInitialProps=l,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7415:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{a:()=>n}),r(997);var s=r(6689),o=r(401),d=r(1492),l=r(2770),i=e([o,d,l]);[o,d,l]=i.then?(await i)():i;let c=(0,s.createContext)(void 0),n=()=>{let e=(0,s.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e};a()}catch(e){a(e)}})},8669:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>m});var s=r(997),o=r(6689);!function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e}();var d=r(7415),l=r(776),i=r(6391),c=r(3917),n=r(3795),p=r(3604),u=r(9726),h=e([d,l]);[d,l]=h.then?(await h)():h;let m=()=>{let{userProfile:e}=(0,d.a)(),[t,r]=(0,o.useState)({totalUploads:0,totalLikes:0,totalDownloads:0,likedPapers:0}),[a,h]=(0,o.useState)(!0);(0,o.useEffect)(()=>{(async()=>{if(e?.uid)try{let[t,a]=await Promise.all([(0,l.R5)(e.uid),(0,l.iG)(e.uid)]),s=t.reduce((e,t)=>e+(t.likeCount||0),0),o=t.reduce((e,t)=>e+(t.downloadCount||0),0);r({totalUploads:t.length,totalLikes:s,totalDownloads:o,likedPapers:a.length})}catch(e){console.error("Error fetching stats:",e)}finally{h(!1)}})()},[e?.uid]);let m=[{title:"Upload New Paper",description:"Share your question papers with the community",icon:i.Z,href:"/dashboard/upload",color:"bg-blue-500"},{title:"Browse Papers",description:"Find papers from other students",icon:c.Z,href:"/browse",color:"bg-green-500"},{title:"My Uploads",description:"Manage your uploaded papers",icon:n.Z,href:"/dashboard/uploads",color:"bg-purple-500"},{title:"Liked Papers",description:"View your favorite papers",icon:p.Z,href:"/dashboard/likes",color:"bg-red-500"}];return a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Welcome back, ",e?.name||"Student","! \uD83D\uDC4B"]}),s.jsx("p",{className:"text-gray-600",children:"Here's what's happening with your academic resources today."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(i.Z,{className:"w-6 h-6 text-blue-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Uploads"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.totalUploads})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(p.Z,{className:"w-6 h-6 text-green-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Likes Received"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.totalLikes})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(n.Z,{className:"w-6 h-6 text-purple-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Downloads"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.totalDownloads})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:s.jsx(u.Z,{className:"w-6 h-6 text-red-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Papers Liked"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.likedPapers})]})]})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:m.map((e,t)=>s.jsx(Object(function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e}()),{to:e.href,className:"block p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow duration-200",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${e.color}`,children:s.jsx(e.icon,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:e.title}),s.jsx("p",{className:"text-sm text-gray-600",children:e.description})]})]})},t))})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),(0,s.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(c.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No recent activity to show"}),s.jsx("p",{className:"text-sm",children:"Start by uploading your first paper!"})]})]})]})};a()}catch(e){a(e)}})},2770:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{db:()=>n,tO:()=>p});var s=r(3745),o=r(401),d=r(1492),l=r(3392),i=e([s,o,d,l]);[s,o,d,l]=i.then?(await i)():i;let c=(0,s.initializeApp)({apiKey:"your-api-key",authDomain:"your-project.firebaseapp.com",projectId:"your-project-id",storageBucket:"your-project.appspot.com",messagingSenderId:"your-sender-id",appId:"your-app-id"});(0,o.getAuth)(c);let n=(0,d.getFirestore)(c),p=(0,l.getStorage)(c);a()}catch(e){a(e)}})},776:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{R5:()=>c,Y$:()=>p,iG:()=>n,uG:()=>u});var s=r(1492),o=r(2770),d=e([s,o]);[s,o]=d.then?(await d)():d;let l=async(e={},t=20)=>{try{let r=(0,s.collection)(o.db,"papers"),a=[];e.college&&a.push((0,s.where)("college","==",e.college)),e.semester&&a.push((0,s.where)("semester","==",e.semester)),e.course&&a.push((0,s.where)("course","==",e.course)),e.subject&&a.push((0,s.where)("subject","==",e.subject)),e.examType&&a.push((0,s.where)("examType","==",e.examType)),e.status&&a.push((0,s.where)("status","==",e.status)),e.uploaderId&&a.push((0,s.where)("uploaderId","==",e.uploaderId)),a.push((0,s.orderBy)("createdAt","desc")),a.push((0,s.limit)(t));let d=(0,s.query)(r,...a),l=await (0,s.getDocs)(d),i=[];return l.forEach(e=>{i.push({id:e.id,...e.data()})}),i}catch(e){throw console.error("Error fetching papers:",e),e}},i=async e=>{try{let t=await (0,s.getDoc)((0,s.doc)(o.db,"papers",e));if(t.exists())return{id:t.id,...t.data()};return null}catch(e){throw console.error("Error fetching paper:",e),e}},c=async e=>l({uploaderId:e}),n=async e=>{try{let t=(0,s.query)((0,s.collection)(o.db,"likes"),(0,s.where)("userId","==",e)),r=(await (0,s.getDocs)(t)).docs.map(e=>e.data().paperId);if(0===r.length)return[];let a=[];for(let e of r){let t=await i(e);t&&a.push(t)}return a}catch(e){throw console.error("Error fetching liked papers:",e),e}},p=async(e,t)=>{try{let r=(0,s.query)((0,s.collection)(o.db,"likes"),(0,s.where)("paperId","==",e),(0,s.where)("userId","==",t)),a=await (0,s.getDocs)(r);a.empty||await (0,s.deleteDoc)(a.docs[0].ref);let d=(0,s.doc)(o.db,"papers",e);await (0,s.updateDoc)(d,{likeCount:(0,s.increment)(-1)})}catch(e){throw console.error("Error unliking paper:",e),e}},u=async e=>{try{await (0,s.deleteDoc)((0,s.doc)(o.db,"papers",e))}catch(e){throw console.error("Error deleting paper:",e),e}};a()}catch(e){a(e)}})},5244:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},5315:e=>{e.exports=require("path")},3745:e=>{e.exports=import("firebase/app")},401:e=>{e.exports=import("firebase/auth")},1492:e=>{e.exports=import("firebase/firestore")},3392:e=>{e.exports=import("firebase/storage")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[682],()=>r(7503));module.exports=a})();
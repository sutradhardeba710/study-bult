"use strict";exports.id=309,exports.ids=[309],exports.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},3592:(e,t,r)=>{r.d(t,{Z:()=>m});var s=r(6689);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),d=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:i,iconNode:c,...m},u)=>(0,s.createElement)("svg",{ref:u,...n,width:t,height:t,stroke:e,strokeWidth:a?24*Number(r)/Number(t):r,className:o("lucide",l),...!i&&!d(m)&&{"aria-hidden":"true"},...m},[...c.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(i)?i:[i]])),m=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...l},d)=>(0,s.createElement)(c,{ref:d,iconNode:t,className:o(`lucide-${a(i(e))}`,`lucide-${e}`,r),...l}));return r.displayName=i(e),r}},3917:(e,t,r)=>{r.d(t,{Z:()=>s});let s=(0,r(3592).Z)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},6391:(e,t,r)=>{r.d(t,{Z:()=>s});let s=(0,r(3592).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},2972:(e,t,r)=>{r.d(t,{Z:()=>s});let s=(0,r(3592).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},8141:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let s=r(5577),a=r(997),l=s._(r(6689)),i=r(5782);async function o(e){let{Component:t,ctx:r}=e;return{pageProps:await (0,i.loadGetInitialProps)(t,r)}}class d extends l.default.Component{render(){let{Component:e,pageProps:t}=this.props;return(0,a.jsx)(e,{...t})}}d.origGetInitialProps=o,d.getInitialProps=o,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7415:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.d(t,{a:()=>c}),r(997);var a=r(6689),l=r(401),i=r(1492),o=r(2770),d=e([l,i,o]);[l,i,o]=d.then?(await d)():d;let n=(0,a.createContext)(void 0),c=()=>{let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e};s()}catch(e){s(e)}})},9608:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>u});var a=r(997),l=r(6689);!function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e}();var i=r(7415),o=r(4883),d=r(3917),n=r(2972),c=r(6391),m=e([i,o]);[i,o]=m.then?(await m)():m;let u=()=>{let{userProfile:e}=(0,i.a)(),t=Object(function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e}())(),[r,s]=(0,l.useState)(!1),[m,u]=(0,l.useState)({}),[p,x]=(0,l.useState)(null),[h,y]=(0,l.useState)({title:"",subject:"",course:"",semester:"",examType:"",description:""}),f=e=>{let{name:t,value:r}=e.target;y(e=>({...e,[t]:r})),m[t]&&u(e=>({...e,[t]:""}))},b=()=>{let e={};return h.title.trim()||(e.title="Title is required"),h.subject.trim()||(e.subject="Subject is required"),h.course||(e.course="Course is required"),h.semester||(e.semester="Semester is required"),h.examType||(e.examType="Exam type is required"),p||(e.file="Please select a PDF file"),u(e),0===Object.keys(e).length},j=async r=>{if(r.preventDefault(),b()&&p&&e){s(!0);try{let r={...h,uploaderId:e.uid,uploaderName:e.name,status:"pending"};await (0,o.ZX)(p,r),t("/dashboard/uploads")}catch(e){console.error("Upload error:",e),u(t=>({...t,submit:e.message||"Failed to upload paper. Please try again."}))}finally{s(!1)}}};return(0,a.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Upload Paper"}),a.jsx("p",{className:"text-gray-600",children:"Share your question papers with the community"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[m.submit&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("p",{className:"text-sm text-red-600",children:m.submit})}),(0,a.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload PDF File"}),a.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:p?(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(d.Z,{className:"w-8 h-8 text-primary-600"}),(0,a.jsxs)("div",{className:"text-left",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[(p.size/1024/1024).toFixed(2)," MB"]})]})]}),a.jsx("button",{type:"button",onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600",children:a.jsx(n.Z,{className:"w-5 h-5"})})]}):(0,a.jsxs)("div",{children:[a.jsx(c.Z,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Drag and drop your PDF file here, or click to browse"}),a.jsx("input",{type:"file",accept:".pdf",onChange:e=>{let t=e.target.files?.[0];if(t){if("application/pdf"!==t.type){u(e=>({...e,file:"Only PDF files are allowed"}));return}if(t.size>10485760){u(e=>({...e,file:"File size must be less than 10MB"}));return}x(t),u(e=>({...e,file:""}))}},className:"hidden",id:"file-upload"}),a.jsx("label",{htmlFor:"file-upload",className:"btn-primary cursor-pointer inline-flex items-center",children:"Choose File"})]})}),m.file&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.file})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Paper Title *"}),a.jsx("input",{type:"text",id:"title",name:"title",value:h.title,onChange:f,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${m.title?"border-red-300":"border-gray-300"}`,placeholder:"Enter paper title"}),m.title&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.title})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700",children:"Subject *"}),a.jsx("input",{type:"text",id:"subject",name:"subject",value:h.subject,onChange:f,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${m.subject?"border-red-300":"border-gray-300"}`,placeholder:"e.g., Data Structures"}),m.subject&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.subject})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"course",className:"block text-sm font-medium text-gray-700",children:"Course *"}),(0,a.jsxs)("select",{id:"course",name:"course",value:h.course,onChange:f,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${m.course?"border-red-300":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select Course"}),["Computer Science Engineering","Electrical Engineering","Mechanical Engineering","Civil Engineering","Information Technology","Electronics & Communication","Other"].map(e=>a.jsx("option",{value:e,children:e},e))]}),m.course&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.course})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"semester",className:"block text-sm font-medium text-gray-700",children:"Semester *"}),(0,a.jsxs)("select",{id:"semester",name:"semester",value:h.semester,onChange:f,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${m.semester?"border-red-300":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select Semester"}),["1st Semester","2nd Semester","3rd Semester","4th Semester","5th Semester","6th Semester","7th Semester","8th Semester"].map(e=>a.jsx("option",{value:e,children:e},e))]}),m.semester&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.semester})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"examType",className:"block text-sm font-medium text-gray-700",children:"Exam Type *"}),(0,a.jsxs)("select",{id:"examType",name:"examType",value:h.examType,onChange:f,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${m.examType?"border-red-300":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select Exam Type"}),["Mid Semester","End Semester","Unit Test","Quiz","Assignment","Other"].map(e=>a.jsx("option",{value:e,children:e},e))]}),m.examType&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.examType})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description (Optional)"}),a.jsx("textarea",{id:"description",name:"description",rows:3,value:h.description,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Add any additional details about the paper..."})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>t("/dashboard"),className:"btn-secondary",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:r,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:r?(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Uploading..."]}):"Upload Paper"})]})]})]})]})};s()}catch(e){s(e)}})},2770:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.d(t,{db:()=>c,tO:()=>m});var a=r(3745),l=r(401),i=r(1492),o=r(3392),d=e([a,l,i,o]);[a,l,i,o]=d.then?(await d)():d;let n=(0,a.initializeApp)({apiKey:"your-api-key",authDomain:"your-project.firebaseapp.com",projectId:"your-project-id",storageBucket:"your-project.appspot.com",messagingSenderId:"your-sender-id",appId:"your-app-id"});(0,l.getAuth)(n);let c=(0,i.getFirestore)(n),m=(0,o.getStorage)(n);s()}catch(e){s(e)}})},4883:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.d(t,{ZX:()=>d});var a=r(3392),l=r(1492),i=r(2770),o=e([a,l,i]);[a,l,i]=o.then?(await o)():o;let d=async(e,t)=>{try{if("application/pdf"!==e.type)throw Error("Only PDF files are allowed");if(e.size>10485760)throw Error("File size must be less than 10MB");let r=`${Date.now()}_${e.name}`,s=(0,a.ref)(i.tO,`papers/${r}`),o=await (0,a.uploadBytes)(s,e),d=await (0,a.getDownloadURL)(o.ref);return(await (0,l.addDoc)((0,l.collection)(i.db,"papers"),{...t,fileUrl:d,fileName:r,fileSize:e.size,createdAt:new Date,likeCount:0,downloadCount:0})).id}catch(e){throw console.error("Upload error:",e),e}};s()}catch(e){s(e)}})},5244:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))}};